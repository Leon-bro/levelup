import{t as v}from"./tests-ZeXXFHdf.js";window.BASE_URL="/levelup/";const h=document.getElementById("flashcard-sections"),x=document.getElementById("flashcard-template"),E=document.getElementById("add-flashcard-form"),B=document.getElementById("front-text"),C=document.getElementById("back-text"),L=document.getElementById("subject-select"),b=document.getElementById("limit-warning");v.tests.forEach(e=>{const t=document.createElement("option");t.value=e.slug,t.textContent=e.subject,L.appendChild(t)});let l=JSON.parse(localStorage.getItem("flashcards"))||[];p();E.addEventListener("submit",e=>{if(e.preventDefault(),l.length>=15){b.classList.remove("d-none");return}else b.classList.add("d-none");const t=B.value.trim(),s=C.value.trim(),c=L.value;t&&s&&c&&(l.push({front:t,back:s,subject:c}),localStorage.setItem("flashcards",JSON.stringify(l)),E.reset(),p())});function p(){h.innerHTML='<h1 class="mb-4 text-center">Мої флеш-картки</h1>',v.tests.forEach(e=>{const t=l.filter(o=>o.subject===e.slug);if(t.length===0)return;const s=document.createElement("div");s.className="mb-5";const c=document.createElement("div");c.className="d-flex align-items-center mb-3 gap-3";const a=document.createElement("img");a.src=window.BASE_URL+`${e.image}`,a.alt=e.subject,a.width=50,a.height=50;const f=document.createElement("h4");f.textContent=e.subject,c.appendChild(a),c.appendChild(f),s.appendChild(c);const r=document.createElement("div");r.className="d-flex flex-wrap gap-3",t.forEach((o,k)=>{const d=x.content.cloneNode(!0),S=d.querySelector(".flip-card-front"),y=d.querySelector(".flip-card-back"),n=d.querySelector(".flip-card"),I=d.querySelector(".delete-btn");S.textContent=o.front,y.textContent=o.back;let g;n.addEventListener("mouseenter",()=>{g=setTimeout(()=>{n.classList.add("hovering")},500)}),n.addEventListener("mouseleave",()=>{clearTimeout(g),n.classList.remove("hovering")}),n.addEventListener("touchend",m=>{const i=n.classList.contains("flipped");m.target.classList.contains("delete-btn")||(n.classList.toggle("flipped",!i),i||setTimeout(()=>{n.classList.remove("flipped")},500))}),I.addEventListener("click",m=>{m.stopPropagation();const i=l.findIndex((u,w)=>u.front===o.front&&u.back===o.back&&u.subject===o.subject);i!==-1&&(l.splice(i,1),localStorage.setItem("flashcards",JSON.stringify(l)),p())}),r.appendChild(d)}),s.appendChild(r),h.appendChild(s)})}
